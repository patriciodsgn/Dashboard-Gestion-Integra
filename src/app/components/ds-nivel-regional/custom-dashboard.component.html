<!-- Container principal -->
<div class="container mx-auto p-4">
  <!-- Header -->
  <div class="w-full mb-6">
    <div class="bg-transparent">
      <div class="text-left mb-2">
        <h3 class="text-xl md:text-2xl font-semibold flex items-center">
          <fa-icon [icon]="faCalendar" class="mr-2"></fa-icon>
          {{ RegionSeleccionada }} / {{ fechaActual }}
        </h3>
      </div>
      <div class="mb-2">
        <h6 class="text-sm text-gray-600">Gestión de Datos Estratégicos / Casa Central</h6>
      </div>
    </div>
  </div>
 
  <!-- Tarjetas Container -->
  <div class="flex flex-col lg:flex-row gap-4 w-full h-full">
    <!-- Principal Container -->
    <div class="p-4 rounded-xl flex-1 shadow-lg" [style.backgroundColor]="headerColor">
      <div class="flex flex-row gap-4 overflow-x-auto h-full">
        <!-- Primera Tarjeta -->
        <div class="flex items-center p-4 min-w-[200px]" [style.backgroundColor]="headerColor">
          <img src="assets/images/Mesa de trabajo 51.png" alt="Establecimientos" 
               class="w-12 h-12 md:w-16 md:h-16 mr-4" 
               [ngStyle]="{'filter': mapColorsService.getRegionImageFilter(RegionSeleccionada)}" />
          <div>
            <div class="text-2xl font-bold">{{ tarjetasSuperiores[0].valor }}</div>
            <div class="text-sm">{{ tarjetasSuperiores[0].titulo }}</div>
          </div>
        </div>
 
        <!-- Otras Tarjetas -->
        <div *ngFor="let tarjeta of tarjetasSuperiores.slice(1, 5)" 
             class="flex-shrink-0 flex items-center p-4 min-w-[180px] rounded-xl border border-gray-400" 
             [style.backgroundColor]="cardColor">
          <div class="text-center w-full">
            <fa-icon [icon]="tarjeta.icon" class="text-2xl mb-2"></fa-icon>
            <div class="text-2xl font-bold">{{ tarjeta.valor }}</div>
            <div class="text-xs">{{ tarjeta.titulo }}</div>
          </div>
        </div>
      </div>
    </div>
 
    <!-- Tarjeta Bus -->
    <div class="lg:w-64 h-full">
      <div class="flex flex-col items-center justify-center p-4 rounded-xl border border-gray-400 h-[130px] shadow-sm"
           [style.backgroundColor]="cardColor">
        <fa-icon [icon]="faBus" class="text-2xl mb-2"></fa-icon>
        <div class="text-lg md:text-xl font-bold">{{ tarjetasSuperiores[5].valor }}</div>
        <div class="text-xs text-center">{{ tarjetasSuperiores[5].titulo }}</div>
      </div>
    </div>
  </div>
 
  <!-- Resto del código igual... -->
 
  <!-- Mapa y Panel -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mt-6">
    <div class="h-[400px] md:h-[500px] border border-gray-400 rounded-lg shadow-sm bg-white overflow-hidden">
      <div id="map-container" class="w-full h-full"></div>
    </div>
 
    <div class="h-[400px] md:h-[500px] border border-gray-400 rounded-lg shadow-sm bg-white overflow-hidden">
      <h4 class="p-3 text-sm font-semibold border-b">Datos Adicionales</h4>
      <div class="h-[calc(100%-3rem)] overflow-y-auto p-3">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div *ngFor="let columna of DistribuirEnColumnas(2)">
            <ng-container *ngFor="let item of columna">
              <div *ngIf="item.tipo === 'comuna'" class="font-bold text-orange-600 mt-2 first:mt-0">
                {{ item.nombre }}
              </div>
              <div *ngIf="item.tipo === 'establecimiento'" class="flex items-start pl-2 py-0.5">
                <span class="text-orange-400 mr-1">●</span>
                <span class="text-sm">{{ getModalidadAbreviada(item.modalidad) }} {{ item.nombre }}</span>
              </div>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
  </div>
 
  <!-- Tarjetas Inferiores -->
  <div class="mt-6">
    <div class="p-4 rounded-xl border border-gray-400 shadow-lg">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <div *ngFor="let tarjeta of tarjetasInferiores; let i = index" 
             class="flex items-center justify-center p-4 rounded-lg border border-gray-400 hover:scale-105 transition-transform duration-300" 
             [ngClass]="{
               'bg-purple-400': i < 4, 
               'bg-blue-400': i >= 4 && i < 8,
               'bg-green-400': i >= 8 && i < 12, 
               'bg-indigo-400': i >= 12
             }">
          <div class="text-sm font-semibold flex items-center gap-2">
            <fa-icon *ngIf="tarjeta.icon" [icon]="tarjeta.icon" class="text-xl"></fa-icon>
            <span>{{ tarjeta.titulo }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
 </div>